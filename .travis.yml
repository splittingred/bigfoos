language: ruby
cache: bundler
rvm:
  - 2.0.0
env:
  global:
    - DB=mysql
    - RAILS_ENV=test
before_install:
  - "export DISPLAY=:99.0"
  - "sh -e /etc/init.d/xvfb start"
before_script:
  - cp .env-example .env
  - cp config/database.travis.yml config/database.yml
  - mkdir tmp
  - mkdir tmp/cache
  - IMPORT_PAGES=1 FROM=mobile bundle exec rake --trace db:create db:migrate db:test:prepare db:seed
script:
  - bundle exec rake spec
source_key: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlKSndJQkFBS0NBZ0VBa3F3RUo3K1htb29Ick5HYTRFTHVOWmxwM21TVmYvVG9lNUdxNnVHc0owanNkei9zCkRNUm41MnUzbk9RWjVqR1g1M0FTRGlOSUxVWml5cWkyR0lIaTJneUk2UExtSEx5NGpvQUhqT3piU0lGa1ljRzYKWUtLSWcvZElHOEpjSGR4aUlHQ01CTWJjbi8xQWFlOWRIU1lKYnRFRHA3VURqVS9sbEFmcUJNVmgyb0ZrY1lDUwpiK2w5TGpEazNRd09DZUxxWk5TbFZiTGluYVF1eE5xZmJzRkRZOVhIcW9DQlN1OTE5SGNuaU0zeHNjbldRaWQ2Cm13dGNNRDF2bXNoT08wbXpYampPMytSbUphbE1CNEN0d0R1aCs3TGc2QmY4OWtFNGdXS2J0blllZmNPdkRVblMKN1AyelJoeHlpVVFLa3pCazBFNUt0U1A0YWtFWFhrL3dVcVdHVkEvNE1UKzRsdm55Y3FTUlI4MjlkSTJrMnNDZgo4QXdVZVlpRHBGSFhMWW9QalZSR3hqMFNSd29iUHpsakNJblFNL2dyUXMxdWc1eE8yTnJnN2lsL0QybVdsUWZKCjl0STdwUERVWG5reFdsL1ErckVRNDNORkpuQWw1SjlOanMrYkY4R3VtRitqUVFMcnREZ0RUYWxLZ21DbGlZVWEKQ1Y3YjliYkFjTjR2Z1F0dHRmUFR5emhoN2U3c2toTWNobUNJdnFxaGtaV0N1VEJGekFmTm8vcEcrWmJER0MyUAo5dVVLZ0ZFOFBNOEZpdFlLN0VNM1lvUVhyVGcxSjhqWFEvaEV6WUlDUllkZXNESy9maDUyZ2FqWndHNTNvc1VqCjE0S2I4MGJqYUk5ZWErNGNtNzlBUHN5VFdUOTRUZHZseS9LdXFHTzhjc2NuaDZwanhEU0JNdUk3WjhzQ0F3RUEKQVFLQ0FnQk1nOXBqRmdzenZxQkVZdENGLzhTZlI1bzRQNGJTU3VSaFdsdXN6dS90U3BpNW1TbytldE90b2I4Vwo1TlF5QjFzMGpIMk96SThodDE5Z1UrVXpJY2REYzFpVkZlby93YUFTRHU1aGNVcndKemhEMnptc29mM1B3bGZtCnkxMGM0dFI2Q1lQaUZoQVFrcUJnNDFOVEduMi9SdUMrUTZ0SHRBK1RTeEdsVFljLzQxS1A5Ny90REFTVzdVRG4KcEJ0S3d3citjUVNUa1kreEoyNlNtVzZrNjhPSk9JUkNDV25wdXNSeE5SdjF2V0pDR29aZzJwR1dncldrSU5peApDWi91UkFPRHV1VUpYZkIvNHpMYmt5Q1JjVXFPc1FHdGNwNHZwVlNpQXR3eXNxb3pkN3RCbG1xbjRhMzlmR2V2Ci9rUDZCendBZzJkcjJna0UvVklBakhsVjFDNGZzRXZsMmlpTHloSDNkbjRlQ2Zmbm1tMTdqS0VJTWRwaHRjS0sKTXdud2EybVYvWHdwb1VHRmFQd1JNRUlQT0QzL3dtNmR1Vkw3TU1OSGNOb0JJUDlSTkFKODlPWHJ3VWZMS0h5YwpkczhhWGlaYUVaU2JGbXBaL1F4NGIxOEh6UTB5NkNYWVB4RHhBcDBBMUxYZzg3K3VBY0xBVmlSNngxQ1dub1IzCjVDd1pJandXR0VoZ0ZHaEQrdDdmdVZ1REJ4dWk0YTVqQVJYR0k3L00xWDJaeUV5UnJCZFczazNhMDkwWnJIdWYKUDEwandVc3h3bkVDb0gza1Irc1UwOHhDV3UrU3ZNcUJnQlFVRE9ZTjE1SG54bDRsWHBJdElSbis4ZHVSSysxYgp3MjV0N0trdjN1ZTM2YmpoS09IWTdLZGtyeG5JN1Rqaks5MC9WeDBQMUVzVlB2M08rUUtDQVFFQXdnMTJicWd3CnBXRGZlcXE0eVpXcjEzOVJUeFpZUkR2S25IN3oxOWZvVm43Wk10MVh6YkJLR1drdVJySkxTMGJJZ1dDU0Q1UloKU0lJeU9ISlNVYjNYZ0E3OHp0MDNDNWl5ejI4M0FicmFkdFQ5OERVR0wzNmVmelVkcUU2WStIQ2swd1hPMmNBRQptUklBNW9kK1VIRmpSeWpnYTQ5MEs1T0tBZy9KaFZwbEQ5Rk04YWdDUGpuOVNlVzNNV05pYmlkMXMxSUk1YTRKCkpPVzR6Yi96MElKWko5ZDAxN3EyOHJuckZSc0NhNzZpcmR2dXVndjZQdFhDem9XNVhtb0txeUwxbGRHVEsrNnMKdHlaY2RVajFqVDliK2FRTjQ0QmNIQ09OTWg2NUlFQVp4Z3hoTy9LeVFkRzRxc0dVQlBRRElFQW1oeHBXeW9wZQp4Q1dmZjFLRmtNc2VId0tDQVFFQXdYNTRYcDRpNzRYVWU5UGhVRm9BRnJWZ29seHBzNkFFMjdWQ1cxZFN3bG1QCmYrM1dTNG1mbC9vSHNNK2JtWEhFRG1xcWM4cnVhMkhuU21NbkVDL1hiQkVNVnhCbXJWNWNwR05qTGJuMHNCQnoKSnBrTm9yMW1mMm9zVUMvZWg4ZkFzcVdGQXFtcGJJMnFoNTlkVDVMU0NoZ0lDN1NOYmZaQitiL1FPNmNTZExXVwowdENTMTVNbm5uUWVycEtGNDlHY0FzQUF2Q28wT3QwQkppbWpWSEEza2NEcHV3d3FDLytaTnNudUVvYVkyNmlpCjkxeVFhcEtlNmpYZ1g0K3NpMTBlaGJJUG9OQ29VNTY5NVhpekhCTk9vNWsvRjN0N1h4VmhTUVdJSjVuanBML00KV2hRSGR6clJhUnJXMEVrVEZ2VFdoclpXb0NFTVVzS2dFUCtOWmFtbzFRS0NBUUI0Q2xYeC9BOGpycnB3S24zbgpEYlJndVh5MTNNKzdYZlZuTzgxaC8walZnT0NoYTNVdVkxaGpRY0tEcnpXT21ubmNOcjREN3pRUCs2SlBjc0RqCm1mbGVXV2NnSEk0NW1Uczd3TU9aU1ZwdFdqTEFUanpHVXFCL2RuOGpKNFBQWS9kQ0p2eWZqUDRMSnF6eDdtMUEKRy9SYkI3bFVNRWlmMEVQMkpJZjMrMFE3TmJGUWFDc0REV0pYUFVoR3dBRWF2VVE5S29rZ2M3bHFYc1VrV2hMYwpNRll3cEVLK1ZOMXBaNE01Nmh4a1JHaGovb0krQ3J6QjgvL3ZPNS9BL1A0ZWdhREVEZ0hwa2xxN2JYcVNmeENQClVOdDNvWG1KKzFSL2Y2cVBqNXZiakd1bExQRlZZVHZPSllzRDduMi9WcWM4WXhLeVRxUFQ1U2JjVlozRjZHbUIKZVhUbkFvSUJBRHlINmZQL21JSkI1YVVQTlk5RGVIK2lJaWJvcmhDSllMdXl5cDEwaGVsU3h6ZUlHZC9ybjhlVgphazUvdy9lT3hYeVZGZG0vaERLSG9DbC9OenN6SERzc1lpWGlkWnlLeG9TT3F2b2xFRXo3K0duOHUyMUx2d0xoCkhoZS93ZWZNTDVZemZaYkZxTURTMktRdzBLb1NEaThtTVc0bi80NkUyVUxlSkxCa3BidHBDMVBMK0FRRWZ3SnMKNVNSTHBpTU04YmRTaFdoWDg1cnVoR3VCM3h5Tk5uVWNXb0l2WGYvKzU5bGg5bDVKU1F4K2h1ekhRazUwcTg0dApLSkg4aWtmV3k3T2JicFFxY2w0bWJOV2FtcjJQdEt3dFJyVjc1YTVySzlJQ0x3UGtlbmlSbjhZV09mZXNxTkl1Cm1VRHplMHRWTUw5WHoyV3NzUVE2Nm9RbXpmOGR3amtDZ2dFQU83STNwWEMrZDVOTzVCS0NmSGRmcEpna3RMeTMKRFFqclBzZklnVWZPYkMwNTNXVDBYYXFjNmd5bU82SjVoYUROWDU1YzBNd0pvcVhKRGhTVldabHQzTnJJMDhHSgowZ3NTM0xMeC9zUGU0cXErS2wxcXh2OStUY3c5ejJtLzM5N1VxRXRvTlJlelF4QTI3dlpRWmY3cC9TTkRXRExOCkdOWVEzb3VTODM0MU84UHljM2RhVWprQkd6d3IzcE1QaUVIRHJHSnZ0aFF5NE5lOElhdk10M3YyWHA1YlZYb1YKWmdtZW5RbkdOTGdHa1puMEFOTzRnMFpNdWgwZjRQRGRjbDR0eHVRUG9XZnhGbWtBRXZCVUhGTE9OeTNCb2NyOQpRR2JXdlNwMG1zdEduVmhxYVRHQnA3TldzdjArbnRLVHNIbHNJdis2NWpaMHVQNkN0ZW5vNkI0NTFnPT0KLS0tLS1FTkQgUlNBIFBSSVZBVEUgS0VZLS0tLS0K